// üöÄ –í–ê–†–ò–ê–ù–¢ 5: –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Socket.IO –¥–ª—è dual-server setup
const io = new SocketIOServer(server, {
  cors: {
    origin: [
      "https://1337community.com",
      "https://www.1337community.com",
      "https://1337community.com:8443", // WebSocket –ø–æ—Ä—Ç
      "http://localhost:3000",
      "http://localhost:3001"
    ],
    methods: ['GET', 'POST'],
    credentials: true,
    allowedHeaders: ["Content-Type", "Authorization", "X-Requested-With"]
  },
  path: "/socket.io/",
  
  // üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –û–±–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º WebSocket
  transports: ['websocket', 'polling'],
  
  // Production –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  pingTimeout: 60000,
  pingInterval: 25000,
  upgradeTimeout: 30000,
  maxHttpBufferSize: 1e6,
  
  // –†–∞–∑—Ä–µ—à–∞–µ–º upgrades –∏ fallback
  allowUpgrades: true,
  allowEIO3: true,
  rememberUpgrade: false, // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ WebSocket
  
  // Cookie –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è HTTPS
  cookie: {
    name: "io",
    httpOnly: true,
    path: "/",
    secure: true, // HTTPS required
    sameSite: 'none', // Cross-origin cookies
    domain: '.1337community.com'
  },
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
  connectTimeout: 45000,
  serveClient: false // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç Socket.IO
});
