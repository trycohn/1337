# ‚ö° –ë–´–°–¢–†–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –í–ê–†–ò–ê–ù–¢–ê 5

## üéØ –ß—Ç–æ —ç—Ç–æ
**Dual-server —Ä–µ—à–µ–Ω–∏–µ HTTP/2 + WebSocket –ø—Ä–æ–±–ª–µ–º—ã:**
- –ü–æ—Ä—Ç 443: HTTP/2 (API, —Å—Ç–∞—Ç–∏–∫–∞)
- –ü–æ—Ä—Ç 8443: HTTP/1.1 (Socket.IO, WebSocket)

## üöÄ –ö–æ–º–∞–Ω–¥—ã –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ

```bash
# 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh root@80.87.200.23
# –ü–∞—Ä–æ–ª—å: 01012006Fortnite!

# 2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç
cd /var/www/1337community.com

# 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
git pull origin main

# 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –í–∞—Ä–∏–∞–Ω—Ç–∞ 5
chmod +x websocket_http2_fix_v5.sh
./websocket_http2_fix_v5.sh
```

## üîß –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π services

**–ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É**: `No such file or directory` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ frontend –∫–ª–∏–µ–Ω—Ç–∞:

```bash
# 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—á–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
chmod +x websocket_http2_fix_v5_patch.sh
./websocket_http2_fix_v5_patch.sh
```

**–ü–∞—Ç—á —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ù–∞–π–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é frontend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é services –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç Socket.IO –∫–ª–∏–µ–Ω—Ç V5
- ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç dual-server setup

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫: HTTPS/HTTP2 –Ω–∞ –ø–æ—Ä—Ç—É 443
‚úÖ WebSocket —Ç—Ä–∞—Ñ–∏–∫: HTTPS/HTTP1.1 –Ω–∞ –ø–æ—Ä—Ç—É 8443
‚úÖ Socket.IO —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã: [websocket, polling]
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å WebSocket
‚úÖ Frontend –∫–ª–∏–µ–Ω—Ç V5 —Å–æ–∑–¥–∞–Ω
```

## üß™ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# API —Ç–µ—Å—Ç
curl https://1337community.com/api/

# Socket.IO —Ç–µ—Å—Ç  
curl https://1337community.com/test-socketio

# WebSocket –ø–æ—Ä—Ç —Ç–µ—Å—Ç (–ù–û–í–´–ô!)
curl https://1337community.com:8443/socket.io/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
ss -tlnp | grep nginx | grep -E ":(443|8443)"
```

**–í–∞–∂–Ω–æ**: –ï—Å–ª–∏ –ø–æ—Ä—Ç 8443 –Ω–µ —Å–ª—É—à–∞–µ—Ç—Å—è, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall
ufw status
ufw allow 8443/tcp

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx
systemctl restart nginx
```

## üî• –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º
```bash
# –õ–æ–≥–∏
tail -f /var/log/nginx/error.log
pm2 logs 1337-backend

# –û—Ç–∫–∞—Ç
cp /etc/nginx/sites-available/1337community.com.backup.v5.* /etc/nginx/sites-available/1337community.com
nginx -t && systemctl reload nginx
pm2 restart 1337-backend
```

## üåê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://1337community.com`
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network ‚Üí WS  
3. WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –Ω–∞ –ø–æ—Ä—Ç 8443
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π `[Socket.IO V5]`

**–í–∞—Ä–∏–∞–Ω—Ç 5 = HTTP/2 –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å + WebSocket —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å!** 