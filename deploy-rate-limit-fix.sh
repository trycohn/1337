#!/bin/bash

echo "üöÄ –≠–ö–°–¢–†–ï–ù–ù–´–ô –î–ï–ü–õ–û–ô: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Rate Limiting –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
echo "================================================="

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ VDS
cd /var/www/1337community.com

echo "üì• –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub..."
git fetch origin main

echo "üîÑ –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è..."
git reset --hard origin/main

echo "üîß –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º backend —Å–µ—Ä–≤–µ—Ä..."
sudo systemctl restart 1337-backend

echo "‚è≥ –ñ–¥–µ–º 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏..."
sleep 3

echo "‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞..."
sudo systemctl status 1337-backend --no-pager -l

echo "üéØ –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞..."
sudo journalctl -u 1337-backend -n 10 --no-pager

echo ""
echo "üéâ –î–ï–ü–õ–û–ô –ó–ê–í–ï–†–®–ï–ù!"
echo "‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ —Å—Ç—Ä–æ–≥–æ–≥–æ rate limiting"
echo "‚úÖ –õ–∏–º–∏—Ç –¥–ª—è /api/users/login —É–≤–µ–ª–∏—á–µ–Ω —Å 500 –¥–æ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 15 –º–∏–Ω—É—Ç"
echo ""
echo "üß™ –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:"
echo "   F12 ‚Üí Console ‚Üí localStorage.clear() ‚Üí –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É"
echo "" 