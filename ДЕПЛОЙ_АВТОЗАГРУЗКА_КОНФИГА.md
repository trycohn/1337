# üöÄ –î–µ–ø–ª–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@80.87.200.23

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /var/www/1337community.com

# 3. –ó–∞–±—Ä–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ rcon-client)
cd backend
npm install

# 5. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É cs2_servers)
psql -U postgres -d 1337community.com -f migrations/20251002_create_cs2_servers_table.sql

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
pm2 restart 1337-backend

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs 1337-backend --lines 50
```

## –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Backend:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∏–∫–æ–≤
2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ —á–µ—Ä–µ–∑ RCON** –∫–æ–º–∞–Ω–¥–æ–π `matchzy_loadmatch_url`
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞** - –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–Ω—è—Ç, –ø—Ä–æ–±—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥** –≤ —Ç–∞–±–ª–∏—Ü—É `cs2_server_commands`
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞** –Ω–∞ `in_use` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥–∞
6. **–†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –ª–æ–±–±–∏:**
   - ‚úÖ –ê–¥–º–∏–Ω—Å–∫–æ–µ –º–∞—Ç—á-–ª–æ–±–±–∏ (`/admin/match`)
   - ‚úÖ –¢—É—Ä–Ω–∏—Ä–Ω—ã–µ –ª–æ–±–±–∏ (–º–∞—Ç—á–∏ –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö)

### Frontend:
1. **–ö–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥–∞
2. **–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ** –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –í–°–ï–• —Ç–∏–ø–æ–≤ –ª–æ–±–±–∏ (–∞–¥–º–∏–Ω—Å–∫–∏–µ –∏ —Ç—É—Ä–Ω–∏—Ä–Ω—ã–µ):

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø–∏–∫–∏/–±–∞–Ω—ã –∫–∞—Ä—Ç –≤ –ª–æ–±–±–∏
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è JSON –∫–æ–Ω—Ñ–∏–≥: `https://1337community.com/lobby/{lobbyId}/{matchid}.json`
3. Backend –∏—â–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –≤ –ë–î (`cs2_servers`)
4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç RCON –∫–æ–º–∞–Ω–¥—É:
   ```
   matchzy_loadmatch_url "https://1337community.com/lobby/123/match.json"
   ```
5. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:
   - –ï—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç "A match is already setup" ‚Üí —Å–µ—Ä–≤–µ—Ä –∑–∞–Ω—è—Ç, –ø—Ä–æ–±—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π
   - –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ ‚Üí —Å–µ—Ä–≤–µ—Ä –Ω–∞–π–¥–µ–Ω!
6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `connect_url` –∏ `gotv_url`:
   - **–ê–¥–º–∏–Ω—Å–∫–æ–µ –ª–æ–±–±–∏** ‚Üí –≤ `admin_match_lobbies` –∏ `matches`
   - **–¢—É—Ä–Ω–∏—Ä–Ω–æ–µ –ª–æ–±–±–∏** ‚Üí –≤ `matches`
7. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ `in_use`
8. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

**–ê–¥–º–∏–Ω—Å–∫–æ–µ –ª–æ–±–±–∏:**
```
‚úÖ JSON –∫–æ–Ω—Ñ–∏–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: https://...
üîç –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ä–µ–¥–∏ X –∞–∫—Ç–∏–≤–Ω—ã—Ö...
‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Main Server...
‚úÖ –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä Main Server!
```

**–¢—É—Ä–Ω–∏—Ä–Ω–æ–µ –ª–æ–±–±–∏:**
```
‚úÖ [Tournament] JSON –∫–æ–Ω—Ñ–∏–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: https://...
üîç [Tournament] –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ä–µ–¥–∏ X –∞–∫—Ç–∏–≤–Ω—ã—Ö...
‚è≥ [Tournament] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Main Server...
‚úÖ [Tournament] –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä Main Server!
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É CS2

1. **MatchZy plugin** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. **RCON** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
3. **–°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω** –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ ‚Üí –°–µ—Ä–≤–µ—Ä—ã CS

## –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

–ü–µ—Ä–µ–π—Ç–∏ –≤ `/admin` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "üñ•Ô∏è –°–µ—Ä–≤–µ—Ä—ã CS" ‚Üí –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
- –ù–∞–∑–≤–∞–Ω–∏–µ: Main Server
- IP –∞–¥—Ä–µ—Å: –≤–∞—à IP
- –ü–æ—Ä—Ç: 27015
- RCON –ø–∞—Ä–æ–ª—å: –≤–∞—à rcon –ø–∞—Ä–æ–ª—å

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏ –≤ `/admin/match`
2. –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤
3. –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–∏–∫–∏/–±–∞–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `pm2 logs 1337-backend`
5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
   ```
   üîç –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ä–µ–¥–∏ X –∞–∫—Ç–∏–≤–Ω—ã—Ö...
   ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Main Server (IP:PORT)...
   ‚úÖ –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä Main Server!
   ```
6. –í –ª–æ–±–±–∏ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É"

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**"–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–µ—Ä–≤–µ—Ä"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ RCON –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω

**–°–µ—Ä–≤–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ "–∑–∞–Ω—è—Ç"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–º–∞–Ω–¥: –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ ‚Üí –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥
- –í–æ–∑–º–æ–∂–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —É–∂–µ –∏–¥–µ—Ç –º–∞—Ç—á

**JSON –∫–æ–Ω—Ñ–∏–≥ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω**
- –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `/var/www/1337community.com/backend/lobbies/{lobbyId}/`
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL: `https://1337community.com/lobby/{lobbyId}/{matchid}.json`

