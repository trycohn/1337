# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞
V4 endpoints –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è.

## –°—Ä–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@1337community.com
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
```bash
cd /var/www/1337community.com
git status
git log --oneline -5
```

### 3. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git reset --hard HEAD
git clean -fd

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å GitHub
git fetch origin main
git reset --hard origin/main

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å
git log --oneline -3
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞ V4
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
ls -la backend/routes/v4-enhanced-stats.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–æ–≤—ã–µ endpoints)
grep -n "enhanced-stats" backend/routes/v4-enhanced-stats.js
grep -n "user-achievements" backend/routes/v4-enhanced-stats.js
grep -n "leaderboards" backend/routes/v4-enhanced-stats.js
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—á–∏—Å—Ç–∫–æ–π
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å backend
pm2 stop 1337-backend

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
pm2 flush 1337-backend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
pm2 start 1337-backend

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs 1337-backend --lines 20
```

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints
```bash
# –¢–µ—Å—Ç V4 endpoints
curl -i https://1337community.com/api/v4/achievements
curl -i https://1337community.com/api/v4/leaderboards

# –î–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å 200 –≤–º–µ—Å—Ç–æ 404
```

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± - –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
```bash
cd /var/www/1337community.com/backend

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules package-lock.json
npm install

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 restart 1337-backend
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx
```

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥:
- `curl https://1337community.com/api/v4/achievements` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- `curl https://1337community.com/api/v4/leaderboards` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–º  
- `curl https://1337community.com/api/v4/enhanced-stats/2` (—Å —Ç–æ–∫–µ–Ω–æ–º) –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö 404 –æ—à–∏–±–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
–û—Ç–∫—Ä–æ–π—Ç–µ https://1337community.com/api/v4/achievements - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å JSON –≤–º–µ—Å—Ç–æ 404. 