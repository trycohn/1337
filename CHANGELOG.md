# Журнал изменений

## [Исправление] - 2024-12-19

### Исправлено
- **Приглашение участников в турнир**: Исправлена ошибка "Укажите никнейм или email" при попытке пригласить пользователя через поиск
  - Изменен параметр запроса с `user_id` на `username` в функции `handleInviteUser`
  - Файл: `frontend/src/components/TournamentDetails.js`, строка 2234

### Технические детали
- **Проблема**: Клиентский код отправлял `{ user_id: userId }`, а серверный API ожидал `{ username: username }` или `{ email: email }`
- **Решение**: Обновлена функция `handleInviteUser` для отправки корректного параметра
- **API endpoint**: `POST /api/tournaments/:id/invite`

### Файлы изменений
- `frontend/src/components/TournamentDetails.js` - исправлена функция приглашения
- `deploy.sh` - обновлен скрипт развертывания
- `server-deploy.sh` - создан специализированный скрипт для VDS
- `DEPLOYMENT_GUIDE.md` - подробная инструкция по развертыванию
- `QUICK_DEPLOY.md` - краткая инструкция для быстрого развертывания

### Тестирование
После развертывания проверьте:
1. Откройте турнир на сайте
2. Найдите пользователя через поиск (если вы создатель/админ)
3. Нажмите "пригласить"
4. Убедитесь, что появляется сообщение "Приглашение успешно отправлено"

### Развертывание
```bash
# Быстрое развертывание на сервере:
cd /var/www/1337community
git pull origin main
cd frontend && npm run build
sudo systemctl restart 1337-backend
sudo systemctl reload nginx
``` 