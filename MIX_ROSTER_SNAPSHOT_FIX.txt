================================================================================
  –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –§–∏–∫—Å–∞—Ü–∏—è —Å–æ—Å—Ç–∞–≤–æ–≤ Mix –∫–æ–º–∞–Ω–¥ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–±—ã–≤–∞–Ω–∏—è
================================================================================

üéØ –ü–†–û–ë–õ–ï–ú–ê:
  –í Mix —Ç—É—Ä–Ω–∏—Ä–∞—Ö –∫–æ–º–∞–Ω–¥—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥ –∑–∞–Ω–æ–≤–æ.
  –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ "—Å–±–æ—Ä–Ω—ã–π" —Å–æ—Å—Ç–∞–≤ –∏–∑ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã,
  –∞ –Ω–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–±—ã–≤–∞–Ω–∏—è.

‚úÖ –†–ï–®–ï–ù–ò–ï:
  –ë–µ—Ä–µ–º —Å–æ—Å—Ç–∞–≤ –∏–∑ matches.team1_players/team2_players –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –º–∞—Ç—á–∞ –∫–æ–º–∞–Ω–¥—ã

================================================================================
  –ü–†–ò–ú–ï–†–´
================================================================================

Full Mix SE —Ç—É—Ä–Ω–∏—Ä (16 –∏–≥—Ä–æ–∫–æ–≤ ‚Üí 8 –∫–æ–º–∞–Ω–¥ ‚Üí 4 —Ä–∞—É–Ω–¥–∞):

–†–∞—É–Ω–¥ 1:
  Team A: [Player1, Player2] vs Team B: [Player3, Player4]
  ‚Üí Team A wins (Team B eliminated)

–†–∞—É–Ω–¥ 2: (–ù–û–í–´–ï –ö–û–ú–ê–ù–î–´!)
  Team C: [Player1, Player5] vs Team D: [Player6, Player7]
  ‚Üí Team C wins (Team D eliminated)

–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
  ü•á 1. Team Winner [Player1, Player8] ‚Üê —Å–æ—Å—Ç–∞–≤ –∏–∑ –§–∏–Ω–∞–ª–∞
  ü•à 2. Team Finalist [Player9, Player10] ‚Üê —Å–æ—Å—Ç–∞–≤ –∏–∑ –§–∏–Ω–∞–ª–∞
  ü•â 3. Team Alpha [Player1, Player5] ‚Üê —Å–æ—Å—Ç–∞–≤ –∏–∑ –†–∞—É–Ω–¥–∞ 2 (–ø–æ–ª—É—Ñ–∏–Ω–∞–ª)
     4. Team Beta [Player6, Player7] ‚Üê —Å–æ—Å—Ç–∞–≤ –∏–∑ –†–∞—É–Ω–¥–∞ 2 (–ø–æ–ª—É—Ñ–∏–Ω–∞–ª)
     5-6. Teams ... ‚Üê —Å–æ—Å—Ç–∞–≤—ã –∏–∑ –†–∞—É–Ω–¥–∞ 1
     7-8. Teams [Player3, Player4] ‚Üê Team B —Å —Å–æ—Å—Ç–∞–≤–æ–º –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–±—ã–≤–∞–Ω–∏—è

–í–ê–ñ–ù–û: Player1 –º–æ–≥ –∏–≥—Ä–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–∞—É–Ω–¥–∞—Ö!
       –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ—Å—Ç–∞–≤ –ö–û–ù–ö–†–ï–¢–ù–û —Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–±—ã–≤–∞–Ω–∏—è.

================================================================================
  –ê–õ–ì–û–†–ò–¢–ú
================================================================================

–î–õ–Ø –ö–ê–ñ–î–û–ô –ö–û–ú–ê–ù–î–´ –í STANDINGS:

1. –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –º–∞—Ç—á–∏ –∫–æ–º–∞–Ω–¥—ã:
   matches.filter(m => m.team1_id === team_id OR m.team2_id === team_id)

2. –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ä–∞—É–Ω–¥—É DESC (–ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∞—Ç—á = max round):
   teamMatches.sort((a, b) => b.round - a.round)[0]

3. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–æ—Ä–æ–Ω—É –∫–æ–º–∞–Ω–¥—ã:
   IF lastMatch.team1_id === team_id:
       actualRoster = lastMatch.team1_players
   ELSE:
       actualRoster = lastMatch.team2_players

4. –ó–∞–º–µ–Ω—è–µ–º members:
   team.members = actualRoster.map(player => ({
       user_id: player.user_id,
       name: player.username || player.name,
       avatar_url: player.avatar_url,
       is_captain: (index === 0) // –ü–µ—Ä–≤—ã–π = –∫–∞–ø–∏—Ç–∞–Ω
   }))

5. –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
   team.roster_from_match = lastMatch.id
   team.roster_round = lastMatch.round

================================================================================
  –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•
================================================================================

matches.team1_players / team2_players (JSONB):
[
  {
    "user_id": 123,
    "username": "Player1",
    "name": "Player1",
    "avatar_url": "https://...",
    "faceit_elo": 2000,
    "cs2_premier_rank": 15000
  },
  ...
]

standings[].members (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è):
[
  {
    "user_id": 123,
    "name": "Player1",
    "avatar_url": "https://...",
    "is_captain": true
  },
  ...
]

================================================================================
  –ü–†–ò–ú–ï–ù–ò–ú–û–°–¢–¨
================================================================================

–¢–£–†–ù–ò–†                          | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–æ–≤?
--------------------------------|---------------------
Classic Mix SE/DE               | ‚úÖ –î–ê (–∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥)
Full Mix SE/DE                  | ‚úÖ –î–ê (–∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥)
Swiss Mix                       | ‚úÖ –î–ê (–∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥)
Team SE/DE (–Ω–µ Mix)             | ‚ùå –ù–ï–¢ (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Å–æ—Å—Ç–∞–≤)
Solo SE/DE                      | ‚ùå –ù–ï–¢ (1 –∏–≥—Ä–æ–∫)

================================================================================
  –ö–û–î –ò–ó–ú–ï–ù–ï–ù–ò–ô
================================================================================

–§–ê–ô–õ: backend/services/tournament/StandingsService.js

–î–û–ë–ê–í–õ–ï–ù–û:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞: if (tournament.format === 'mix' || 'full_mix')
2. –ú–µ—Ç–æ–¥: _updateMixTeamRosters(standings, matches)
3. –õ–æ–≥–∏–∫–∞: –ó–∞–º–µ–Ω–∞ members –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∏–∑ lastMatch

–õ–û–ì–ò–†–û–í–ê–ù–ò–ï:
  üîÑ Mix —Ç—É—Ä–Ω–∏—Ä - –æ–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–∞–≤—ã –∫–æ–º–∞–Ω–¥ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–±—ã–≤–∞–Ω–∏—è
  üîç Team Alpha: –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∞—Ç—á ID 45, —Ä–∞—É–Ω–¥ 3
  ‚úÖ Team Alpha: –æ–±–Ω–æ–≤–ª–µ–Ω —Å–æ—Å—Ç–∞–≤ (5 –∏–≥—Ä–æ–∫–æ–≤)
  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–∞–≤–æ–≤: 8

================================================================================
  –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
================================================================================

1. Backend –ª–æ–≥–∏:
   pm2 logs 1337-backend | grep "updateMixTeamRosters"
   
   –û–∂–∏–¥–∞–µ—Ç—Å—è:
   üîÑ [_updateMixTeamRosters] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–æ–≤ –¥–ª—è 8 –∫–æ–º–∞–Ω–¥
   ‚úÖ Team Alpha: –æ–±–Ω–æ–≤–ª–µ–Ω —Å–æ—Å—Ç–∞–≤ (5 –∏–≥—Ä–æ–∫–æ–≤)
   ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–∞–≤–æ–≤: 8

2. API –æ—Ç–≤–µ—Ç:
   curl http://1337community.com/api/tournaments/11/standings | jq '.standings[0]'
   
   –û–∂–∏–¥–∞–µ—Ç—Å—è:
   {
     "team_name": "Team Alpha",
     "members": [
       {"user_id": 123, "name": "Player1", ...},
       ...5 –∏–≥—Ä–æ–∫–æ–≤...
     ],
     "roster_from_match": 45,
     "roster_round": 3
   }

3. Frontend –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
   –¢—É—Ä–Ω–∏—Ä 11 ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Üí –¢–∞–±–ª–∏—Ü–∞ –º–µ—Å—Ç
   
   –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä—ã –∏–≥—Ä–æ–∫–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –†–ï–ê–õ–¨–ù–û –∏–≥—Ä–∞–ª–∏
   –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –º–∞—Ç—á–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã (–Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–±—ã–≤–∞–Ω–∏—è/–ø–æ–±–µ–¥—ã)

================================================================================
  –ì–û–¢–û–í–û!
================================================================================

Mix —Ç—É—Ä–Ω–∏—Ä—ã —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ—Å—Ç–∞–≤—ã –∫–æ–º–∞–Ω–¥ –Ω–∞ –º–æ–º–µ–Ω—Ç:
  - –í—ã–±—ã–≤–∞–Ω–∏—è –∏–∑ —Ç—É—Ä–Ω–∏—Ä–∞ (–¥–ª—è –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏—Ö)
  - –ü–æ–±–µ–¥—ã –≤ —Ñ–∏–Ω–∞–ª–µ (–¥–ª—è —á–µ–º–ø–∏–æ–Ω–æ–≤)

–≠—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å Full Mix —Ç—É—Ä–Ω–∏—Ä–æ–≤ –≥–¥–µ –∫–æ–º–∞–Ω–¥—ã
—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ –∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥.

