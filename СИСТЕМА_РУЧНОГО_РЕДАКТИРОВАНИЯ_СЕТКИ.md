# üéØ –°–ò–°–¢–ï–ú–ê –†–£–ß–ù–û–ì–û –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø –°–ï–¢–ö–ò

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞**: 01 —Ñ–µ–≤—Ä–∞–ª—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

## üéØ **–û–ë–ó–û–† –°–ò–°–¢–ï–ú–´**

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∫–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤ —Å **–¥–≤—É–º—è —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã**:
1. **üéØ Drag & Drop** - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º)
2. **üìä –¢–∞–±–ª–∏—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º)

## üèóÔ∏è **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´**

### üìä **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### **1. ManualBracketEditor.js** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```javascript
// üé® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ Drag & Drop –∏ Table
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞ –º–∞—Ç—á–µ–π  
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ API
```

#### **2. DraggableParticipant** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
```javascript
// üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- Drag & Drop –ª–æ–≥–∏–∫–∞ —Å react-dnd
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ drop-–∑–æ–Ω)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (TouchBackend)
- Swap-–º–µ—Ö–∞–Ω–∏–∫–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –º–µ—Å—Ç–∞–º–∏
```

#### **3. TableBracketEditor** - –¢–∞–±–ª–∏—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```javascript
// üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –∏–º–µ–Ω–∏
- –í—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –°—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ë—ã—Å—Ç—Ä–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ–∑–∏—Ü–∏–π
```

### üé® **CSS —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è (MonomanualBracketEditor.css)**
- **–ú–æ–Ω–æ—Ö—Ä–æ–º–Ω–∞—è —Ç–µ–º–∞**: —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω (#000), –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç (#fff), –∫—Ä–∞—Å–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã (#ff0000)
- **–ê–Ω–∏–º–∞—Ü–∏–∏ Drag & Drop**: –ø—É–ª—å—Å–∞—Ü–∏—è drop-–∑–æ–Ω, —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
- **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è**: –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

### üîß **Backend API**

#### **–†–æ—É—Ç**: `POST /api/tournaments/:id/manual-bracket-edit`
```javascript
// üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å —Ç—É—Ä–Ω–∏—Ä–∞ (verifyAdminOrCreator)
// üìù –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: { bracketData: Array<{matchId, team1_id, team2_id}> }
// ‚úÖ –û—Ç–≤–µ—Ç: { success: true, updatedMatches: number, clearedResults: number }
```

#### **TournamentController.manualBracketEdit**
```javascript
// üîß –í–∞–ª–∏–¥–∞—Ü–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ ID —Ç—É—Ä–Ω–∏—Ä–∞ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ bracketData
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
```

#### **TournamentService.manualBracketEdit**
```javascript
// üîÑ –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å —Ç—É—Ä–Ω–∏—Ä–∞)
2. –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ª–æ–≤–∏–π (—Ç—É—Ä–Ω–∏—Ä –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω, —Å–µ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
3. –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–∞—Ç—á–µ–π –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –ø–µ—Ä–≤–æ–º —Ä–∞—É–Ω–¥–µ
5. –í–æ–∑–≤—Ä–∞—Ç —Ç—É—Ä–Ω–∏—Ä–∞ –≤ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
7. WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
```

## üéÆ **–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –ò–ù–¢–ï–†–§–ï–ô–°**

### üö® **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ "–û–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"**
–ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∞ –≤ `TournamentAdminPanel.js` –≤ —Å–µ–∫—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```jsx
{/* ‚úèÔ∏è –†–£–ß–ù–û–ï –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –°–ï–¢–ö–ò - –¢–û–õ–¨–ö–û –î–õ–Ø –°–û–ó–î–ê–¢–ï–õ–Ø */}
{tournament?.created_by === user?.id && matches && matches.length > 0 && (
    <button 
        className="action-btn-v2 danger-btn manual-bracket-btn"
        onClick={() => setShowManualBracketEditor(true)}
        title="–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤—Ä—É—á–Ω—É—é (–≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç —Å–±—Ä–æ—à–µ–Ω—ã)"
    >
        ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É
    </button>
)}
```

### üéØ **–†–µ–∂–∏–º Drag & Drop**

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ** —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–µ–∂–¥—É –ø–æ–∑–∏—Ü–∏—è–º–∏
- **Swap-–º–µ—Ö–∞–Ω–∏–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–±–º–µ–Ω —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –Ω–∞ –∑–∞–Ω—è—Ç—É—é –ø–æ–∑–∏—Ü–∏—é
- **Drop-–∑–æ–Ω—ã —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π** - –∑–µ–ª–µ–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- **–ü—Ä–µ–≤—å—é —Ä–µ–∂–∏–º** - –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–ú–æ–±–∏–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

#### **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:**
```css
/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ drop-–∑–æ–Ω */
.participant-slot.drop-target {
    border-color: #00ff00;
    background: rgba(0, 255, 0, 0.1);
    animation: pulse-green 1s infinite;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è */
.participant-slot.dragging {
    opacity: 0.5;
    transform: rotate(2deg);
    box-shadow: 0 8px 20px rgba(255, 0, 0, 0.3);
}
```

### üìä **–¢–∞–±–ª–∏—á–Ω—ã–π —Ä–µ–∂–∏–º**

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–í—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏** - –≤—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π
- **–°—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–ë—ã—Å—Ç—Ä–∞—è –æ—á–∏—Å—Ç–∫–∞** - –∫–Ω–æ–ø–∫–∞ "‚úï" –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã:**
| –ü–æ–∑–∏—Ü–∏—è | –ú–∞—Ç—á | –£—á–∞—Å—Ç–Ω–∏–∫ | –î–µ–π—Å—Ç–≤–∏—è |
|---------|------|----------|----------|
| #1 | –ú–∞—Ç—á 1 - –°–ª–æ—Ç 1 | [–í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫] | [–û—á–∏—Å—Ç–∏—Ç—å] |
| #2 | –ú–∞—Ç—á 1 - –°–ª–æ—Ç 2 | [–í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫] | [–û—á–∏—Å—Ç–∏—Ç—å] |

## üîÑ **–ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´**

### **1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
```javascript
// üìä –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Ç—á–µ–π –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
const sortedMatches = [...matches]
    .filter(match => match.round === 1)
    .sort((a, b) => a.match_number - b.match_number);

// üéØ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –ø–æ–∑–∏—Ü–∏–π
positions = [
    { matchId, slot: 1, participant: team1_participant },
    { matchId, slot: 2, participant: team2_participant }
];
```

### **2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
```javascript
// üéØ Drag & Drop: swap-–º–µ—Ö–∞–Ω–∏–∫–∞
const handleSwap = (fromIndex, toIndex) => {
    const temp = positions[fromIndex].participant;
    positions[fromIndex].participant = positions[toIndex].participant;
    positions[toIndex].participant = temp;
};

// üìä Table: –ø—Ä—è–º–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
const handlePositionChange = (index, participant) => {
    positions[index].participant = participant;
};
```

### **3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
```javascript
// üì¶ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è API
const bracketData = [];
for (let i = 0; i < positions.length; i += 2) {
    bracketData.push({
        matchId: positions[i].matchId,
        team1_id: positions[i].participant?.id || null,
        team2_id: positions[i + 1].participant?.id || null
    });
}

// üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
await axios.post(`/api/tournaments/${tournament.id}/manual-bracket-edit`, 
    { bracketData }
);
```

## üõ°Ô∏è **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –í–ê–õ–ò–î–ê–¶–ò–Ø**

### **Frontend –≤–∞–ª–∏–¥–∞—Ü–∏—è:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤** - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ù–∞–ª–∏—á–∏–µ —Å–µ—Ç–∫–∏** - –∫–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –º–∞—Ç—á–µ–π
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö before –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - —É—á–∞—Å—Ç–Ω–∏–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é

### **Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è:**
- ‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å —Ç—É—Ä–Ω–∏—Ä–∞ (verifyAdminOrCreator)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—É—Ä–Ω–∏—Ä–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã bracketData
- ‚úÖ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å** - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –ë–î —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:**
```javascript
// üîê –£—Å–ª–æ–≤–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏
tournament?.created_by === user?.id &&  // –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å
matches && matches.length > 0 &&        // –°–µ—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
tournament.status !== 'completed'       // –¢—É—Ä–Ω–∏—Ä –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω
```

## üîÑ **–ü–û–°–õ–ï–î–°–¢–í–ò–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø**

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:**
1. **üîÑ –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –æ—á–∏—Å—Ç–∫–∞ winner_team_id, score1, score2
2. **üìù –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è PENDING** - –≤—Å–µ –º–∞—Ç—á–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –æ–∂–∏–¥–∞–Ω–∏–µ
3. **‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞** - –Ω–æ–≤–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤  
4. **üéØ –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç—É—Ä–Ω–∏—Ä–∞** - —Å "in_progress" –Ω–∞ "active" –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
5. **üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è** - –∑–∞–ø–∏—Å—å –≤ tournament_logs
6. **üí¨ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —á–∞—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
7. **üì° WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **SQL –æ–ø–µ—Ä–∞—Ü–∏–∏:**
```sql
-- üîÑ –°–±—Ä–æ—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
UPDATE matches 
SET winner_team_id = NULL, score1 = NULL, score2 = NULL, state = 'PENDING'
WHERE tournament_id = $1;

-- ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏
UPDATE matches 
SET team1_id = $1, team2_id = $2
WHERE id = $3 AND tournament_id = $4 AND round = 1;
```

## üé® **UX –û–°–û–ë–ï–ù–ù–û–°–¢–ò**

### **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
- **üî¥ –ö—Ä–∞—Å–Ω—ã–π –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä** - –µ—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **üü¢ –ó–µ–ª–µ–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è drop-–∑–æ–Ω** - –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
- **‚ö†Ô∏è –ñ–µ–ª—Ç–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ** - –æ —Å–±—Ä–æ—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–∞—Ç—á–µ–π
- **üìä –°—á–µ—Ç—á–∏–∫–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** - –¥–æ—Å—Ç—É–ø–Ω—ã–µ/–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏

### **–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã:**
```css
/* –ü—É–ª—å—Å–∞—Ü–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è drop-–∑–æ–Ω */
@keyframes pulse-green {
    0%, 100% { border-color: #00ff00; }
    50% { border-color: #66ff66; }
}
```

### **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- **üì± –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - TouchBackend –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **üñ•Ô∏è –î–µ—Å–∫—Ç–æ–ø** - HTML5Backend –¥–ª—è –º—ã—à–∏
- **üìê Responsive –¥–∏–∑–∞–π–Ω** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞

## üìä **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò**

### **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```json
{
    "react-dnd": "^16.0.1",
    "react-dnd-html5-backend": "^16.0.1", 
    "react-dnd-touch-backend": "^16.0.1",
    "react-device-detect": "^2.2.3"
}
```

### **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤:**
- ‚úÖ **Single Elimination** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
- ‚úÖ **Double Elimination** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Winners Bracket –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
- ‚úÖ **Mix tournaments** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- üîí **–¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞—É–Ω–¥** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏
- üîí **–¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å** - —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Ç—É—Ä–Ω–∏—Ä–∞
- üîí **–ê–∫—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã** - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è

## üöÄ **–†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï**

### **–ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
```bash
# 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
cd frontend && npm install

# 3. –°–±–æ—Ä–∫–∞ frontend
npm run build

# 4. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
sudo cp -r build/* /var/www/html/1337community/

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend
pm2 restart 1337-backend
```

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoint
curl -X POST "http://1337community.com/api/tournaments/66/manual-bracket-edit" \
     -H "Authorization: Bearer YOUR_JWT_TOKEN" \
     -H "Content-Type: application/json" \
     -d '{"bracketData": [{"matchId": 123, "team1_id": 1, "team2_id": 2}]}'

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# - –°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä –∫–∞–∫ —Å–æ–∑–¥–∞—Ç–µ–ª—å
# - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç–∫—É
# - –û—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–æ–º"
# - –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É" –≤ —Å–µ–∫—Ü–∏–∏ "–û–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"
# - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–∞ —Ä–µ–∂–∏–º–∞: Drag & Drop –∏ Table
```

## üìã **–ò–¢–û–ì–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò**

### ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
1. **üéØ Drag & Drop —Ä–µ–¥–∞–∫—Ç–æ—Ä** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
2. **üìä –¢–∞–±–ª–∏—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
3. **üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤** - —Ç—É–º–±–ª–µ—Ä –º–µ–∂–¥—É –¥–≤—É–º—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
4. **üõ°Ô∏è –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –Ω–∞ frontend –∏ backend —É—Ä–æ–≤–Ω—è—Ö
5. **‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
6. **üì° Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
7. **üí¨ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç —Ç—É—Ä–Ω–∏—Ä–∞
8. **üì± –ú–æ–±–∏–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### üéØ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω—ã–π drag & drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ì–∏–±–∫–æ—Å—Ç—å** - –¥–≤–∞ —Ä–µ–∂–∏–º–∞ –Ω–∞ –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- **–ë—ã—Å—Ç—Ä–æ—Ç–∞** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –æ—Ç–∫–∞—Ç–æ–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ:**
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –º–æ–¥—É–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ re-renders —Å useCallback/useMemo
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤  
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** - —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥

---

**üèÜ –°–∏—Å—Ç–µ–º–∞ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç–µ–ª—è–º —Ç—É—Ä–Ω–∏—Ä–æ–≤ –º–æ—â–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—É—Ä–Ω–∏—Ä–Ω—ã—Ö —Å–µ—Ç–æ–∫!** 