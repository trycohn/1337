# üìã API CONTRACTS - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –æ—Ç–≤–µ—Ç–æ–≤

## üéØ –¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ API –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ frontend.

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –í CreateTournament.js –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `response.data.id` –≤–º–µ—Å—Ç–æ `response.data.tournament.id`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–µ `GET /api/tournaments/undefined`.

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–≤–µ—Ç–∞–º–∏.

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ API

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ (POST /api/tournaments)
```javascript
{
  "message": "–¢—É—Ä–Ω–∏—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω",
  "tournament": {
    "id": 123,
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞",
    "status": "active",
    // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è —Ç—É—Ä–Ω–∏—Ä–∞
  }
}
```
**Frontend**: `response.data.tournament.id`

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤ (GET /api/tournaments)
```javascript
[
  {
    "id": 1,
    "name": "–¢—É—Ä–Ω–∏—Ä 1",
    "status": "active"
  },
  {
    "id": 2,
    "name": "–¢—É—Ä–Ω–∏—Ä 2",
    "status": "completed"
  }
]
```
**Frontend**: `response.data[0].id`

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ (GET /api/tournaments/:id)
```javascript
{
  "id": 123,
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞",
  "participants": [...],
  "matches": [...],
  "teams": [...]
}
```
**Frontend**: `response.data.id`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞ (PUT /api/tournaments/:id)
```javascript
{
  "message": "–¢—É—Ä–Ω–∏—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω",
  "tournament": {
    "id": 123,
    "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
    // ... –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è
  }
}
```
**Frontend**: `response.data.tournament.id`

## üõ†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### extractTournamentId()
```javascript
import { extractTournamentId } from '../utils/apiUtils';

const tournamentId = extractTournamentId(response, 'CREATE_TOURNAMENT');
// –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç ID –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null
```

### safeNavigateToTournament()
```javascript
import { safeNavigateToTournament } from '../utils/apiUtils';

const success = safeNavigateToTournament(navigate, response, 'CREATE_TOURNAMENT');
// –ë–µ–∑–æ–ø–∞—Å–Ω–æ –Ω–∞–≤–∏–≥–∏—Ä—É–µ—Ç –∫ —Ç—É—Ä–Ω–∏—Ä—É –∏–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
```

### validateApiResponse()
```javascript
import { validateApiResponse } from '../utils/apiUtils';

const validation = validateApiResponse(response, 'CREATE_TOURNAMENT');
if (!validation.isValid) {
  console.error('–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:', validation.errors);
}
```

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```javascript
// –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ undefined –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞
const tournamentId = response.data.id;
navigate(`/tournaments/${tournamentId}`); // /tournaments/undefined
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
const success = safeNavigateToTournament(navigate, response, 'CREATE_TOURNAMENT');
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ DevTools

1. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞**:
   ```javascript
   console.log('–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:', response.data);
   ```

2. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º**:
   ```javascript
   if (response.data.tournament?.id) {
     // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º ID
   }
   ```

## üìä –¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

| –û–ø–µ—Ä–∞—Ü–∏—è | Endpoint | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ | –ü—É—Ç—å –∫ ID |
|----------|----------|------------------|-----------|
| –°–æ–∑–¥–∞–Ω–∏–µ | POST /api/tournaments | `{message, tournament}` | `tournament.id` |
| –°–ø–∏—Å–æ–∫ | GET /api/tournaments | `[{id, name, ...}]` | `[i].id` |
| –î–µ—Ç–∞–ª–∏ | GET /api/tournaments/:id | `{id, name, ...}` | `id` |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ | PUT /api/tournaments/:id | `{message, tournament}` | `tournament.id` |

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `safeNavigateToTournament()`
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å `Array.isArray(response.data)`
3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ ID** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `extractTournamentId()`
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `validateApiResponse()`

## üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `response.data` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–æ–±–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìû –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:
1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –ª–æ–≥–∞—Ö –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
2. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ `API_RESPONSE_STRUCTURES`
3. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é 