# üîç –†–£–ß–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê WEBSOCKET –ü–†–û–ë–õ–ï–ú

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh root@80.87.200.23
# –ü–∞—Ä–æ–ª—å: 01012006Fortnite!
```

### 2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /var/www/1337community.com
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞:
```bash
git pull origin main
```

### 4. –ó–∞–ø—É—Å–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
chmod +x websocket_debug_commands.sh
./websocket_debug_commands.sh
```

---

## üéØ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ö–û–ú–ê–ù–î–´ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ PM2:
```bash
pm2 status
pm2 logs 1337-backend --lines 10
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP API:
```bash
curl -s https://1337community.com/test-socketio
curl -s -I https://1337community.com/socket.io/
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx:
```bash
systemctl status nginx
nginx -t
cat /etc/nginx/sites-available/1337community.com | grep -A 10 socket.io
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤:
```bash
lsof -i :3000
lsof -i :80
lsof -i :443
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
tail -20 /var/log/nginx/error.log
tail -20 /var/log/nginx/access.log | grep socket
```

---

## üîß –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Socket.IO endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML –≤–º–µ—Å—Ç–æ JSON
**–ü—Ä–∏—á–∏–Ω–∞**: Nginx –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã  
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Connection refused –Ω–∞ –ø–æ—Ä—Ç—É 3000
**–ü—Ä–∏—á–∏–Ω–∞**: Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 3000  
**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2 –ø—Ä–æ—Ü–µ—Å—Å

### –ü—Ä–æ–±–ª–µ–º–∞ 3: SSL/HTTPS –ø—Ä–æ–±–ª–µ–º—ã —Å WebSocket
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –¥–ª—è WebSocket  
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Socket.IO server –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞**: –û—à–∏–±–∫–∏ –≤ backend –∫–æ–¥–µ  
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ PM2 –Ω–∞ –æ—à–∏–±–∫–∏

---

## üì§ –û–¢–ü–†–ê–í–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã.

**–í–∞–∂–Ω–æ**: –í–∫–ª—é—á–∏—Ç–µ –ø–æ–ª–Ω—ã–µ –≤—ã–≤–æ–¥—ã –∫–æ–º–∞–Ω–¥, –æ—Å–æ–±–µ–Ω–Ω–æ –æ—à–∏–±–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤. 