# üîí –ü–†–ê–í–ê –î–û–°–¢–£–ü–ê –ö –ò–ó–ú–ï–ù–ï–ù–ò–Æ –¢–ò–ü–û–í –°–ï–¢–ö–ò

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 27 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω—ã–π  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–∫—É–º–µ–Ω—Ç –æ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–µ—Ç–∫–∏

## üéØ –û–°–ù–û–í–ù–´–ï –ü–†–ê–í–ò–õ–ê

### 1. –ö—Ç–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–µ—Ç–∫–∏?
- **–¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤** (–Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ `user.id === tournament.created_by`

### 2. –ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–µ—Ç–∫–∏?
- **–¢–æ–ª—å–∫–æ –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–æ–≤ –≤ —Å—Ç–∞—Ç—É—Å–µ "active"**
- **–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–µ—Ç–∫–∞ –µ—â–µ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞** (–Ω–µ—Ç –º–∞—Ç—á–µ–π)

### 3. –ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞?
- **Backend**: `TournamentService._checkTournamentCreatorAccess()`
- **Frontend**: `TournamentSettingsPanel` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `isCreator`
- **API**: `TournamentController.updateBracketType` –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∞

## üõ†Ô∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### Backend
```javascript
// TournamentService.js
static async _checkTournamentCreatorAccess(tournamentId, userId) {
    const tournament = await TournamentRepository.getById(tournamentId);
    if (tournament.created_by !== userId) {
        throw new Error('–¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–µ—Ç–∫–∏');
    }
    return tournament;
}
```

### Frontend
```javascript
// TournamentSettingsPanel.js
const canEditBracketType = canEdit && isCreator;
```

### API Endpoint
```
PUT /api/tournaments/:id/bracket-type
Authorization: Bearer token (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å)
```

## üìã –ü–†–û–í–ï–†–ö–ê –ü–†–ê–í

1. **–°–æ–∑–¥–∞—Ç–µ–ª—å —Ç—É—Ä–Ω–∏—Ä–∞?** ‚úÖ –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å
2. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ç—É—Ä–Ω–∏—Ä–∞?** ‚ùå –ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å
3. **–¢—É—Ä–Ω–∏—Ä –∞–∫—Ç–∏–≤–µ–Ω?** ‚úÖ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ
4. **–°–µ—Ç–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞?** ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ

## üîß –ü–û–í–ï–î–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê

- **–î–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π**: –ü–æ–ª–µ "–¢–∏–ø —Å–µ—Ç–∫–∏" –≤–∏–¥–∏–º–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**: –ü–æ–ª–µ "–¢–∏–ø —Å–µ—Ç–∫–∏" —Å–∫—Ä—ã—Ç–æ
- **–î–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ü–æ–ª–µ "–¢–∏–ø —Å–µ—Ç–∫–∏" —Å–∫—Ä—ã—Ç–æ

## üö® –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö

### –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- "–¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–µ—Ç–∫–∏"
- "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–µ—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–æ–≤"
- "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–µ—Ç–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∫–∏"

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫:
- `403`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- `400`: –ù–µ–≤–µ—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Ç—É—Ä–Ω–∏—Ä–∞ –∏–ª–∏ –Ω–∞–ª–∏—á–∏–µ –º–∞—Ç—á–µ–π
- `404`: –¢—É—Ä–Ω–∏—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω

## üîÑ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. –°–æ–∑–¥–∞—Ç–µ–ª—å —Ç—É—Ä–Ω–∏—Ä–∞ ‚Üí –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø —Å–µ—Ç–∫–∏
2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ç—É—Ä–Ω–∏—Ä–∞ ‚Üí –ù–µ –≤–∏–¥–∏—Ç –ø–æ–ª–µ —Ç–∏–ø–∞ —Å–µ—Ç–∫–∏
3. –°–µ—Ç–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ ‚Üí –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
4. –¢—É—Ä–Ω–∏—Ä –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω ‚Üí –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤ –ë–î
SELECT created_by, status, bracket_type FROM tournaments WHERE id = 1;
```

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Ç—É—Ä–Ω–∏—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–ª—è–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

---
*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞–º–∏ 1337 Community* 