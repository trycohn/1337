import{q as N,r as y,W as w,j as e,a as C}from"./app-2-nbgIXB.js";import{T as c,I as d}from"./InputError-Bz1JaDdo.js";import{I as u}from"./InputLabel-BOEoPHxE.js";import{P as I}from"./PrimaryButton-EnS3u6pJ.js";import{w as R}from"./index-Dx4gZyUt.js";import{q as U}from"./transition-BV2HJH_b.js";function E({mustVerifyEmail:x,status:f,className:p=""}){const t=N().props.auth,n=y.useRef(null),{data:i,setData:r,post:h,errors:o,processing:v,recentlySuccessful:j}=w({_method:"PATCH",name:t.name,email:t.email,avatar:null}),b=a=>{a.preventDefault(),h(route("profile.update"))},g=a=>{var l;const s=a.target.files;if(s&&s.length>0){r("avatar",s[0]);const m=window.URL.createObjectURL(s[0]);return(l=n.current)==null||l.setAttribute("src",m),()=>{window.URL.revokeObjectURL(m)}}};return e.jsxs("section",{className:p,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Profile Information"}),e.jsx("p",{className:"mt-1 text-sm text-secondary-foreground",children:"Update your account's profile information and email address."})]}),e.jsxs("form",{onSubmit:b,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"picture relative",children:[e.jsx("img",{src:t.avatar,alt:t.name,className:"mx-auto h-20 w-20 rounded-full border border-secondary",ref:n}),e.jsxs("label",{htmlFor:"avatar",className:"btn btn-primary absolute left-1/2 top-6 flex translate-x-5 cursor-pointer items-center justify-center rounded-full px-2",tabIndex:0,children:[e.jsx(R,{}),e.jsx("input",{type:"file",onChange:g,id:"avatar",className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name",value:"Name"}),e.jsx(c,{id:"name",className:"mt-1 block w-full",value:i.name,onChange:a=>r("name",a.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(d,{className:"mt-2",message:o.name})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"email",value:"Email"}),e.jsx(c,{id:"email",type:"email",className:"mt-1 block w-full",value:i.email,onChange:a=>r("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(d,{className:"mt-2",message:o.email})]}),x&&t.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2 text-sm text-foreground",children:["Your email address is unverified.",e.jsx(C,{href:route("verification.send"),method:"post",as:"button",className:"btn btn-secondary",children:"Click here to re-send the verification email."})]}),f==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-success",children:"A new verification link has been sent to your email address."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{disabled:v,children:"Save"}),e.jsx(U,{show:j,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-foreground",children:"Saved."})})]})]})]})}export{E as default};
